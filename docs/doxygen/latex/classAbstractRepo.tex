\hypertarget{classAbstractRepo}{}\doxysection{Abstract\+Repo Class Reference}
\label{classAbstractRepo}\index{AbstractRepo@{AbstractRepo}}
Inheritance diagram for Abstract\+Repo\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{classAbstractRepo}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classAbstractRepo_a45996b2f964eb581aec08c0b6da679ee}\label{classAbstractRepo_a45996b2f964eb581aec08c0b6da679ee}} 
\mbox{\hyperlink{classAbstractRepo_a45996b2f964eb581aec08c0b6da679ee}{Abstract\+Repo}} ()
\begin{DoxyCompactList}\small\item\em Construtor padrao. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classAbstractRepo_a200bbb9e75fc2df4f8822ee558c9055f}\label{classAbstractRepo_a200bbb9e75fc2df4f8822ee558c9055f}} 
\mbox{\hyperlink{classAbstractRepo_a200bbb9e75fc2df4f8822ee558c9055f}{$\sim$\+Abstract\+Repo}} ()
\begin{DoxyCompactList}\small\item\em Destrutor padrao. \end{DoxyCompactList}\item 
virtual int \mbox{\hyperlink{classAbstractRepo_ac5942793beb49d527fcd9ae8a6a95d06}{execute\+Insert}} (sqlite3 $\ast$db, std\+::string sql) const
\begin{DoxyCompactList}\small\item\em Executa um insert sql. \end{DoxyCompactList}\item 
virtual std\+::vector$<$ std\+::map$<$ std\+::string, std\+::string $>$ $>$ \mbox{\hyperlink{classAbstractRepo_ab4fa6ec748e3218ebc2dc116c2435cdf}{execute\+Select}} (sqlite3 $\ast$db, std\+::string sql) const
\begin{DoxyCompactList}\small\item\em Executa uma operação D\+E\+L\+E\+TE no banco de dados. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classAbstractRepo_a197d07766cca180da85692c6137d314e}\label{classAbstractRepo_a197d07766cca180da85692c6137d314e}} 
int {\bfseries execute\+Delete} (sqlite3 $\ast$db, std\+::string sql) const
\end{DoxyCompactItemize}
\doxysubsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classAbstractRepo_aa49e51230be6d753539ce265a998e24c}\label{classAbstractRepo_aa49e51230be6d753539ce265a998e24c}} 
sqlite3 $\ast$ {\bfseries \+\_\+db}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}


Definition at line 8 of file abstractrepo.\+hpp.



\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classAbstractRepo_ac5942793beb49d527fcd9ae8a6a95d06}\label{classAbstractRepo_ac5942793beb49d527fcd9ae8a6a95d06}} 
\index{AbstractRepo@{AbstractRepo}!executeInsert@{executeInsert}}
\index{executeInsert@{executeInsert}!AbstractRepo@{AbstractRepo}}
\doxysubsubsection{\texorpdfstring{executeInsert()}{executeInsert()}}
{\footnotesize\ttfamily int Abstract\+Repo\+::execute\+Insert (\begin{DoxyParamCaption}\item[{sqlite3 $\ast$}]{db,  }\item[{std\+::string}]{sql }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [virtual]}}



Executa um insert sql. 


\begin{DoxyParams}{Parameters}
{\em db} & Conexao com banco de dados \\
\hline
{\em sql} & Insert a ser executada \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Um inteiro representando sucesso ou falha na execucao do insert 
\end{DoxyReturn}


Definition at line 13 of file abstractrepo.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{13                                                                 \{}
\DoxyCodeLine{14     \textcolor{keywordtype}{char} *zErrMsg = 0;}
\DoxyCodeLine{15     \textcolor{keywordtype}{int} rc;}
\DoxyCodeLine{16 }
\DoxyCodeLine{17     rc = sqlite3\_exec(db, sql.c\_str(), \textcolor{keyword}{nullptr}, \textcolor{keyword}{nullptr}, \&zErrMsg);}
\DoxyCodeLine{18     \textcolor{keywordflow}{if} (rc != SQLITE\_OK) \{}
\DoxyCodeLine{19         std::cout << zErrMsg;}
\DoxyCodeLine{20         sqlite3\_free(zErrMsg);}
\DoxyCodeLine{21         \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{22     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{23         \textcolor{keywordflow}{return} 1;}
\DoxyCodeLine{24     \}}
\DoxyCodeLine{25 \}}

\end{DoxyCode}
\mbox{\Hypertarget{classAbstractRepo_ab4fa6ec748e3218ebc2dc116c2435cdf}\label{classAbstractRepo_ab4fa6ec748e3218ebc2dc116c2435cdf}} 
\index{AbstractRepo@{AbstractRepo}!executeSelect@{executeSelect}}
\index{executeSelect@{executeSelect}!AbstractRepo@{AbstractRepo}}
\doxysubsubsection{\texorpdfstring{executeSelect()}{executeSelect()}}
{\footnotesize\ttfamily std\+::vector$<$ std\+::map$<$ std\+::string, std\+::string $>$ $>$ Abstract\+Repo\+::execute\+Select (\begin{DoxyParamCaption}\item[{sqlite3 $\ast$}]{db,  }\item[{std\+::string}]{sql }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [virtual]}}



Executa uma operação D\+E\+L\+E\+TE no banco de dados. 


\begin{DoxyParams}{Parameters}
{\em db} & Conexão com o banco de dados \\
\hline
{\em sql} & Comando D\+E\+L\+E\+TE a ser executado \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Retorna 1 se a operação D\+E\+L\+E\+TE foi bem-\/sucedida, caso contrário, retorna 0 
\end{DoxyReturn}


Definition at line 27 of file abstractrepo.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{27                                                                                                     \{}
\DoxyCodeLine{28     sqlite3\_stmt *stmt;}
\DoxyCodeLine{29     std::vector<std::map<std::string, std::string>> result;}
\DoxyCodeLine{30 }
\DoxyCodeLine{31     \textcolor{comment}{// Prepara consulta}}
\DoxyCodeLine{32     \textcolor{keywordflow}{if} (sqlite3\_prepare\_v2(db, sql.c\_str(), -\/1, \&stmt, \textcolor{keyword}{nullptr}) != SQLITE\_OK) \{}
\DoxyCodeLine{33         \textcolor{keywordflow}{return} result;}
\DoxyCodeLine{34     \}}
\DoxyCodeLine{35 }
\DoxyCodeLine{36     \textcolor{keywordflow}{while} (sqlite3\_step(stmt) == SQLITE\_ROW) \{}
\DoxyCodeLine{37         \textcolor{keywordtype}{int} colCount = sqlite3\_column\_count(stmt);}
\DoxyCodeLine{38         std::map<std::string, std::string> line;}
\DoxyCodeLine{39 }
\DoxyCodeLine{40         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < colCount; ++i) \{}
\DoxyCodeLine{41             \textcolor{keyword}{const} \textcolor{keywordtype}{char} *colName = sqlite3\_column\_name(stmt, i);}
\DoxyCodeLine{42             \textcolor{keyword}{const} \textcolor{keywordtype}{char} *colValue = \textcolor{keyword}{reinterpret\_cast<}\textcolor{keyword}{const }\textcolor{keywordtype}{char} *\textcolor{keyword}{>}(sqlite3\_column\_text(stmt, i));}
\DoxyCodeLine{43 }
\DoxyCodeLine{44             \textcolor{comment}{// Adiciona o par coluna-\/valor ao mapa}}
\DoxyCodeLine{45             line[colName] = colValue;}
\DoxyCodeLine{46         \}}
\DoxyCodeLine{47 }
\DoxyCodeLine{48         \textcolor{comment}{// Adiciona o mapa ao vetor de resultados}}
\DoxyCodeLine{49         result.push\_back(line);}
\DoxyCodeLine{50     \}}
\DoxyCodeLine{51 }
\DoxyCodeLine{52     \textcolor{comment}{// Libera os recursos}}
\DoxyCodeLine{53     sqlite3\_finalize(stmt);}
\DoxyCodeLine{54     \textcolor{keywordflow}{return} result;}
\DoxyCodeLine{55 \}}

\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
abstractrepo.\+hpp\item 
abstractrepo.\+cpp\end{DoxyCompactItemize}
