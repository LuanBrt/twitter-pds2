\doxysection{Tweet\+Repo Class Reference}
\hypertarget{classTweetRepo}{}\label{classTweetRepo}\index{TweetRepo@{TweetRepo}}
Inheritance diagram for Tweet\+Repo\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{classTweetRepo}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classTweet}{Tweet}} \mbox{\hyperlink{classTweetRepo_a6c9f402ff6caa68175032fb55c4a40f3}{add\+Tweet}} (\mbox{\hyperlink{classTweet}{Tweet}} tweet)
\begin{DoxyCompactList}\small\item\em Adiciona um tweet ao banco de dados. \end{DoxyCompactList}\item 
std\+::vector$<$ \mbox{\hyperlink{classTweet}{Tweet}} $>$ \mbox{\hyperlink{classTweetRepo_ab6cf833780eb1a9cf4cb56918aecf181}{get\+Tweets}} ()
\begin{DoxyCompactList}\small\item\em Pega todos os tweets do banco de dados. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classTweet}{Tweet}} \mbox{\hyperlink{classTweetRepo_ab0c75a4d4c2aeeb7a51957fbd834ab89}{search\+Tweet\+By\+Id}} (int id)
\begin{DoxyCompactList}\small\item\em Busca um tweet específico com esse id. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classTweetRepo_af4ee12aeeb422c85b693d4a4f3cf5d28}{like\+Tweet}} (int id)
\item 
void \mbox{\hyperlink{classTweetRepo_a8e2f5cfbbbd16bc1cad571d3602ba20a}{dislike\+Tweet}} (int id)
\item 
std\+::vector$<$ \mbox{\hyperlink{classTweet}{Tweet}} $>$ \mbox{\hyperlink{classTweetRepo_a5c3d0ebebd3f1aabd56a999c0c85bcd3}{search\+Tweets}} (std\+::string search\+String)
\item 
std\+::vector$<$ \mbox{\hyperlink{classTweet}{Tweet}} $>$ \mbox{\hyperlink{classTweetRepo_a252f18a2e19843b78cf4b5f834c5f2de}{get\+User\+Timeline}} (\mbox{\hyperlink{classUser}{User}} u)
\begin{DoxyCompactList}\small\item\em Obtem os tweets para a timeline de determinado user. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions inherited from \mbox{\hyperlink{classAbstractRepo}{Abstract\+Repo}}}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classAbstractRepo_a45996b2f964eb581aec08c0b6da679ee}{Abstract\+Repo}} ()
\begin{DoxyCompactList}\small\item\em Construtor padrao. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classAbstractRepo_a200bbb9e75fc2df4f8822ee558c9055f}{\texorpdfstring{$\sim$}{\string~}\+Abstract\+Repo}} ()
\begin{DoxyCompactList}\small\item\em Destrutor padrao. \end{DoxyCompactList}\item 
virtual int \mbox{\hyperlink{classAbstractRepo_ac5942793beb49d527fcd9ae8a6a95d06}{execute\+Insert}} (sqlite3 \texorpdfstring{$\ast$}{*}db, std\+::string sql) const
\begin{DoxyCompactList}\small\item\em Executa um insert sql. \end{DoxyCompactList}\item 
virtual std\+::vector$<$ std\+::map$<$ std\+::string, std\+::string $>$ $>$ \mbox{\hyperlink{classAbstractRepo_ab4fa6ec748e3218ebc2dc116c2435cdf}{execute\+Select}} (sqlite3 \texorpdfstring{$\ast$}{*}db, std\+::string sql) const
\begin{DoxyCompactList}\small\item\em Executa um select sql. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Additional Inherited Members}
\doxysubsection*{Protected Attributes inherited from \mbox{\hyperlink{classAbstractRepo}{Abstract\+Repo}}}
\begin{DoxyCompactItemize}
\item 
sqlite3 \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classAbstractRepo_aa49e51230be6d753539ce265a998e24c}{\+\_\+db}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}


Definition at line \mbox{\hyperlink{tweetrepo_8hpp_source_l00009}{9}} of file \mbox{\hyperlink{tweetrepo_8hpp_source}{tweetrepo.\+hpp}}.



\doxysubsection{Member Function Documentation}
\Hypertarget{classTweetRepo_a6c9f402ff6caa68175032fb55c4a40f3}\label{classTweetRepo_a6c9f402ff6caa68175032fb55c4a40f3} 
\index{TweetRepo@{TweetRepo}!addTweet@{addTweet}}
\index{addTweet@{addTweet}!TweetRepo@{TweetRepo}}
\doxysubsubsection{\texorpdfstring{addTweet()}{addTweet()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classTweet}{Tweet}} Tweet\+Repo\+::add\+Tweet (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classTweet}{Tweet}}}]{tweet }\end{DoxyParamCaption})}



Adiciona um tweet ao banco de dados. 


\begin{DoxyParams}{Parameters}
{\em tweet} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Retorna o próprio tweet criado caso sucesso e um throw de erro caso dê errado 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{tweetrepo_8cpp_source_l00007}{7}} of file \mbox{\hyperlink{tweetrepo_8cpp_source}{tweetrepo.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00007\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00008\ \ \ \ \ std::string\ sql;}
\DoxyCodeLine{00009\ \ \ \ \ sql\ +=\ \textcolor{stringliteral}{"{}INSERT\ INTO\ tweet\ (author\_id,\ description,\ timestamp,\ likes)\ VALUES\ ("{}};}
\DoxyCodeLine{00010\ \ \ \ \ sql\ +=\ \textcolor{stringliteral}{"{}"{}}\ +\ std::to\_string(tweet.\mbox{\hyperlink{classTweet_a91a6b33c59bae66b0365d48f6095c97b}{author}}().id())\ +\ \textcolor{stringliteral}{"{},\ "{}};}
\DoxyCodeLine{00011\ \ \ \ \ sql\ +=\ \textcolor{stringliteral}{"{}'"{}}\ +\ tweet.\mbox{\hyperlink{classTweet_afef8008a8305610862cfb38f718f68e9}{description}}()\ +\ \textcolor{stringliteral}{"{}',\ "{}};}
\DoxyCodeLine{00012\ \ \ \ \ sql\ +=\ \textcolor{stringliteral}{"{}'"{}}\ +\ tweet.\mbox{\hyperlink{classTweet_a8d0f8d16c5a1e2fc2aa07433440873c9}{timestamp}}()\ +\ \textcolor{stringliteral}{"{}',\ "{}};}
\DoxyCodeLine{00013\ \ \ \ \ sql\ +=\ \textcolor{stringliteral}{"{}"{}}\ +\ std::to\_string(tweet.\mbox{\hyperlink{classTweet_a8783cb651e503b234bdf15c19c66c83f}{likes}}())\ +\ \textcolor{stringliteral}{"{});"{}};}
\DoxyCodeLine{00014\ }
\DoxyCodeLine{00015\ \ \ \ \ \textcolor{keywordtype}{int}\ r\ =\ \mbox{\hyperlink{classAbstractRepo_ac5942793beb49d527fcd9ae8a6a95d06}{executeInsert}}(\_db,\ sql);}
\DoxyCodeLine{00016\ }
\DoxyCodeLine{00017\ \ \ \ \ }
\DoxyCodeLine{00018\ \ \ \ \ \textcolor{keywordflow}{if}\ (r\ !=\ 0)\ \{}
\DoxyCodeLine{00019\ \ \ \ \ \ \ \ \ sqlite3\_int64\ lastRowId\ =\ sqlite3\_last\_insert\_rowid(\_db);}
\DoxyCodeLine{00020\ }
\DoxyCodeLine{00021\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Você\ pode\ agora\ buscar\ o\ tweet\ recém-\/criado\ usando\ o\ ID\ obtido}}
\DoxyCodeLine{00022\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classTweet}{Tweet}}\ newTweet\ =\ \mbox{\hyperlink{classTweetRepo_ab0c75a4d4c2aeeb7a51957fbd834ab89}{searchTweetById}}(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(lastRowId));}
\DoxyCodeLine{00023\ }
\DoxyCodeLine{00024\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Retornando\ o\ tweet\ recém-\/criado}}
\DoxyCodeLine{00025\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ newTweet;}
\DoxyCodeLine{00026\ \ \ \ \ \}}
\DoxyCodeLine{00027\ }
\DoxyCodeLine{00028\ \ \ \ \ \textcolor{keywordflow}{throw}\ \textcolor{stringliteral}{"{}Tweet\ não\ foi\ adicionado\ ao\ banco\ de\ dados"{}};}
\DoxyCodeLine{00029\ \}}

\end{DoxyCode}
\Hypertarget{classTweetRepo_a8e2f5cfbbbd16bc1cad571d3602ba20a}\label{classTweetRepo_a8e2f5cfbbbd16bc1cad571d3602ba20a} 
\index{TweetRepo@{TweetRepo}!dislikeTweet@{dislikeTweet}}
\index{dislikeTweet@{dislikeTweet}!TweetRepo@{TweetRepo}}
\doxysubsubsection{\texorpdfstring{dislikeTweet()}{dislikeTweet()}}
{\footnotesize\ttfamily void Tweet\+Repo\+::dislike\+Tweet (\begin{DoxyParamCaption}\item[{int}]{id }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{tweetrepo_8cpp_source_l00061}{61}} of file \mbox{\hyperlink{tweetrepo_8cpp_source}{tweetrepo.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00061\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00062\ \ \ \ \ std::string\ sql;}
\DoxyCodeLine{00063\ \ \ \ \ sql\ +=\ \textcolor{stringliteral}{"{}UPDATE\ tweet\ SET\ likes\ =\ likes\ -\/\ 1\ WHERE\ id\ =\ "{}}\ +\ std::to\_string(\textcolor{keywordtype}{id})\ +\ \textcolor{stringliteral}{"{};"{}};}
\DoxyCodeLine{00064\ }
\DoxyCodeLine{00065\ \ \ \ \ \textcolor{keywordtype}{int}\ r\ =\ \mbox{\hyperlink{classAbstractRepo_ac5942793beb49d527fcd9ae8a6a95d06}{executeInsert}}(\_db,\ sql);}
\DoxyCodeLine{00066\ \ \ \ \ std::cout\ <<\ r\ <<\ std::endl;}
\DoxyCodeLine{00067\ \}}

\end{DoxyCode}
\Hypertarget{classTweetRepo_ab6cf833780eb1a9cf4cb56918aecf181}\label{classTweetRepo_ab6cf833780eb1a9cf4cb56918aecf181} 
\index{TweetRepo@{TweetRepo}!getTweets@{getTweets}}
\index{getTweets@{getTweets}!TweetRepo@{TweetRepo}}
\doxysubsubsection{\texorpdfstring{getTweets()}{getTweets()}}
{\footnotesize\ttfamily std\+::vector$<$ \mbox{\hyperlink{classTweet}{Tweet}} $>$ Tweet\+Repo\+::get\+Tweets (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Pega todos os tweets do banco de dados. 

\begin{DoxyReturn}{Returns}
Retorna uma lista de todos os tweets do banco de dados 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{tweetrepo_8cpp_source_l00031}{31}} of file \mbox{\hyperlink{tweetrepo_8cpp_source}{tweetrepo.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00031\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00032\ \ \ std::vector<Tweet>\ tweetVec;}
\DoxyCodeLine{00033\ \ \ std::string\ sql;}
\DoxyCodeLine{00034\ \ \ sql\ +=\ \textcolor{stringliteral}{"{}SELECT\ *\ FROM\ tweet;"{}};}
\DoxyCodeLine{00035\ \ \ std::vector<std::map<std::string,\ std::string>>\ result\ =\ \mbox{\hyperlink{classAbstractRepo_ab4fa6ec748e3218ebc2dc116c2435cdf}{executeSelect}}(\_db,\ sql);}
\DoxyCodeLine{00036\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{auto}\ tweetData\ :\ result)\ \{}
\DoxyCodeLine{00037\ \ \ \ \ \ \ \mbox{\hyperlink{classTweet}{Tweet}}\ t(stoi(tweetData[\textcolor{stringliteral}{"{}id"{}}]),stoi(tweetData[\textcolor{stringliteral}{"{}author\_id"{}}]),\ tweetData[\textcolor{stringliteral}{"{}description"{}}],\ tweetData[\textcolor{stringliteral}{"{}timestamp"{}}],\ stoi(tweetData[\textcolor{stringliteral}{"{}likes"{}}]));}
\DoxyCodeLine{00038\ \ \ \ \ \ \ tweetVec.push\_back(t);}
\DoxyCodeLine{00039\ \ \ \}}
\DoxyCodeLine{00040\ }
\DoxyCodeLine{00041\ \ \ \textcolor{keywordflow}{return}\ tweetVec;}
\DoxyCodeLine{00042\ \}}

\end{DoxyCode}
\Hypertarget{classTweetRepo_a252f18a2e19843b78cf4b5f834c5f2de}\label{classTweetRepo_a252f18a2e19843b78cf4b5f834c5f2de} 
\index{TweetRepo@{TweetRepo}!getUserTimeline@{getUserTimeline}}
\index{getUserTimeline@{getUserTimeline}!TweetRepo@{TweetRepo}}
\doxysubsubsection{\texorpdfstring{getUserTimeline()}{getUserTimeline()}}
{\footnotesize\ttfamily std\+::vector$<$ \mbox{\hyperlink{classTweet}{Tweet}} $>$ Tweet\+Repo\+::get\+User\+Timeline (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classUser}{User}}}]{u }\end{DoxyParamCaption})}



Obtem os tweets para a timeline de determinado user. 


\begin{DoxyParams}{Parameters}
{\em u} & O usuario \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Um vetor com os tweets 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{tweetrepo_8cpp_source_l00069}{69}} of file \mbox{\hyperlink{tweetrepo_8cpp_source}{tweetrepo.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00069\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00070\ \ \ \ \ std::vector<Tweet>\ response;}
\DoxyCodeLine{00071\ }
\DoxyCodeLine{00072\ \ \ \ \ std::string\ sql\ =\ \textcolor{stringliteral}{"{}SELECT\ t.*\ FROM\ follow\ f\ JOIN\ tweet\ t\ ON\ f.followed\_id\ =\ t.author\_id\ WHERE\ f.follower\_id="{}}+std::to\_string(u.id())+\textcolor{stringliteral}{"{}\ UNION\ "{}}}
\DoxyCodeLine{00073\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}SELECT\ t.*\ FROM\ tweet\ t\ WHERE\ t.author\_id="{}}+std::to\_string(u.id())+\textcolor{stringliteral}{"{};"{}};}
\DoxyCodeLine{00074\ \ \ \ \ }
\DoxyCodeLine{00075\ \ \ \ \ std::vector<std::map<std::string,\ std::string>>\ result\ =\ \mbox{\hyperlink{classAbstractRepo_ab4fa6ec748e3218ebc2dc116c2435cdf}{executeSelect}}(\_db,\ sql);}
\DoxyCodeLine{00076\ }
\DoxyCodeLine{00077\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{auto}\ tweetData\ :\ result)\ \{}
\DoxyCodeLine{00078\ \ \ \ \ \ \ \ \ response.push\_back(\mbox{\hyperlink{classTweet}{Tweet}}(stoi(tweetData[\textcolor{stringliteral}{"{}id"{}}]),\ stoi(tweetData[\textcolor{stringliteral}{"{}author\_id"{}}]),\ tweetData[\textcolor{stringliteral}{"{}description"{}}],\ tweetData[\textcolor{stringliteral}{"{}timestamp"{}}],\ stoi(tweetData[\textcolor{stringliteral}{"{}likes"{}}])));}
\DoxyCodeLine{00079\ \ \ \ \ \}}
\DoxyCodeLine{00080\ }
\DoxyCodeLine{00081\ \ \ \ \ \textcolor{keywordflow}{return}\ response;}
\DoxyCodeLine{00082\ \}}

\end{DoxyCode}
\Hypertarget{classTweetRepo_af4ee12aeeb422c85b693d4a4f3cf5d28}\label{classTweetRepo_af4ee12aeeb422c85b693d4a4f3cf5d28} 
\index{TweetRepo@{TweetRepo}!likeTweet@{likeTweet}}
\index{likeTweet@{likeTweet}!TweetRepo@{TweetRepo}}
\doxysubsubsection{\texorpdfstring{likeTweet()}{likeTweet()}}
{\footnotesize\ttfamily void Tweet\+Repo\+::like\+Tweet (\begin{DoxyParamCaption}\item[{int}]{id }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{tweetrepo_8cpp_source_l00053}{53}} of file \mbox{\hyperlink{tweetrepo_8cpp_source}{tweetrepo.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00053\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00054\ \ \ \ \ std::string\ sql;}
\DoxyCodeLine{00055\ \ \ \ \ sql\ +=\ \textcolor{stringliteral}{"{}UPDATE\ tweet\ SET\ likes\ =\ likes\ +\ 1\ WHERE\ id\ =\ "{}}\ +\ std::to\_string(\textcolor{keywordtype}{id})\ +\ \textcolor{stringliteral}{"{};"{}};}
\DoxyCodeLine{00056\ }
\DoxyCodeLine{00057\ \ \ \ \ \textcolor{keywordtype}{int}\ r\ =\ \mbox{\hyperlink{classAbstractRepo_ac5942793beb49d527fcd9ae8a6a95d06}{executeInsert}}(\_db,\ sql);}
\DoxyCodeLine{00058\ \ \ \ \ std::cout\ <<\ r\ <<\ std::endl;}
\DoxyCodeLine{00059\ \}}

\end{DoxyCode}
\Hypertarget{classTweetRepo_ab0c75a4d4c2aeeb7a51957fbd834ab89}\label{classTweetRepo_ab0c75a4d4c2aeeb7a51957fbd834ab89} 
\index{TweetRepo@{TweetRepo}!searchTweetById@{searchTweetById}}
\index{searchTweetById@{searchTweetById}!TweetRepo@{TweetRepo}}
\doxysubsubsection{\texorpdfstring{searchTweetById()}{searchTweetById()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classTweet}{Tweet}} Tweet\+Repo\+::search\+Tweet\+By\+Id (\begin{DoxyParamCaption}\item[{int}]{id }\end{DoxyParamCaption})}



Busca um tweet específico com esse id. 


\begin{DoxyParams}{Parameters}
{\em id} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Retorna o tweet que contém o id especificado 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{tweetrepo_8cpp_source_l00044}{44}} of file \mbox{\hyperlink{tweetrepo_8cpp_source}{tweetrepo.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00044\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00045\ \ \ \ \ std::string\ sql;}
\DoxyCodeLine{00046\ \ \ \ \ sql\ +=\ \textcolor{stringliteral}{"{}SELECT\ *\ FROM\ tweet\ WHERE\ id\ =\ "{}}\ +\ std::to\_string(\textcolor{keywordtype}{id})\ +\ \textcolor{stringliteral}{"{};"{}};}
\DoxyCodeLine{00047\ \ \ \ \ std::vector<std::map<std::string,\ std::string>>\ result\ =\ \mbox{\hyperlink{classAbstractRepo_ab4fa6ec748e3218ebc2dc116c2435cdf}{executeSelect}}(\_db,\ sql);}
\DoxyCodeLine{00048\ \ \ \ \ }
\DoxyCodeLine{00049\ \ \ \ \ \mbox{\hyperlink{classTweet}{Tweet}}\ t(stoi(result[0][\textcolor{stringliteral}{"{}id"{}}]),\ stoi(result[0][\textcolor{stringliteral}{"{}author\_id"{}}]),\ result[0][\textcolor{stringliteral}{"{}description"{}}],\ result[0][\textcolor{stringliteral}{"{}timestamp"{}}],\ stoi(result[0][\textcolor{stringliteral}{"{}likes"{}}]));}
\DoxyCodeLine{00050\ \ \ \ \ \textcolor{keywordflow}{return}\ t;}
\DoxyCodeLine{00051\ \}}

\end{DoxyCode}
\Hypertarget{classTweetRepo_a5c3d0ebebd3f1aabd56a999c0c85bcd3}\label{classTweetRepo_a5c3d0ebebd3f1aabd56a999c0c85bcd3} 
\index{TweetRepo@{TweetRepo}!searchTweets@{searchTweets}}
\index{searchTweets@{searchTweets}!TweetRepo@{TweetRepo}}
\doxysubsubsection{\texorpdfstring{searchTweets()}{searchTweets()}}
{\footnotesize\ttfamily std\+::vector$<$ \mbox{\hyperlink{classTweet}{Tweet}} $>$ Tweet\+Repo\+::search\+Tweets (\begin{DoxyParamCaption}\item[{std\+::string}]{search\+String }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{tweetrepo_8cpp_source_l00084}{84}} of file \mbox{\hyperlink{tweetrepo_8cpp_source}{tweetrepo.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00084\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00085\ \ \ \ \ \textcolor{comment}{//\ tolower\ na\ string\ de\ busca}}
\DoxyCodeLine{00086\ \ \ \ \ std::transform(searchString.begin(),\ searchString.end(),\ searchString.begin(),\ ::tolower);}
\DoxyCodeLine{00087\ }
\DoxyCodeLine{00088\ \ \ \ \ \textcolor{comment}{//\ criando\ um\ vetor\ para\ armazenar\ os\ tweets\ com\ a\ palavra\ chave}}
\DoxyCodeLine{00089\ \ \ \ \ std::vector<Tweet>\ matchingTweets;}
\DoxyCodeLine{00090\ }
\DoxyCodeLine{00091\ \ \ \ \ \textcolor{comment}{//\ consulta\ SQL\ para\ buscar\ tweets\ no\ banco\ de\ dados}}
\DoxyCodeLine{00092\ \ \ \ \ std::string\ sql\ =\ \textcolor{stringliteral}{"{}SELECT\ DISTINCT\ *\ FROM\ tweet\ WHERE\ LOWER(description)\ LIKE\ '\%"{}}\ +\ searchString\ +\ \textcolor{stringliteral}{"{}\%';"{}};}
\DoxyCodeLine{00093\ }
\DoxyCodeLine{00094\ \ \ \ \ std::vector<std::map<std::string,\ std::string>>\ result\ =\ \mbox{\hyperlink{classAbstractRepo_ab4fa6ec748e3218ebc2dc116c2435cdf}{executeSelect}}(\_db,\ sql);}
\DoxyCodeLine{00095\ }
\DoxyCodeLine{00096\ \ \ \ \ \textcolor{comment}{//\ adicionando\ os\ tweets\ com\ a\ palavra\ chave\ ao\ vetor\ }}
\DoxyCodeLine{00097\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{auto}\ tweetData\ :\ result)\ \{}
\DoxyCodeLine{00098\ \ \ \ \ \ \ \ \ matchingTweets.push\_back(\mbox{\hyperlink{classTweet}{Tweet}}(}
\DoxyCodeLine{00099\ \ \ \ \ \ \ \ \ \ \ \ \ stoi(tweetData[\textcolor{stringliteral}{"{}id"{}}]),}
\DoxyCodeLine{00100\ \ \ \ \ \ \ \ \ \ \ \ \ stoi(tweetData[\textcolor{stringliteral}{"{}author\_id"{}}]),}
\DoxyCodeLine{00101\ \ \ \ \ \ \ \ \ \ \ \ \ tweetData[\textcolor{stringliteral}{"{}description"{}}],}
\DoxyCodeLine{00102\ \ \ \ \ \ \ \ \ \ \ \ \ tweetData[\textcolor{stringliteral}{"{}timestamp"{}}],}
\DoxyCodeLine{00103\ \ \ \ \ \ \ \ \ \ \ \ \ stoi(tweetData[\textcolor{stringliteral}{"{}likes"{}}])}
\DoxyCodeLine{00104\ \ \ \ \ \ \ \ \ ));}
\DoxyCodeLine{00105\ \ \ \ \ \}}
\DoxyCodeLine{00106\ }
\DoxyCodeLine{00107\ \ \ \ \ \textcolor{keywordflow}{return}\ matchingTweets;}
\DoxyCodeLine{00108\ \}}

\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
tweetrepo.\+hpp\item 
tweetrepo.\+cpp\end{DoxyCompactItemize}
